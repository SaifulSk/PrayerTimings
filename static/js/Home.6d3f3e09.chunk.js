"use strict";(self.webpackChunkprayer_timing=self.webpackChunkprayer_timing||[]).push([[268],{3358:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var o=t(9439),a=t(2791),r=t(1134),s=t(4695),l=t(8007),i=t(3027),c=t(9513),d=t.n(c),u=t(1694),m=t.n(u),f=t(4261),h=t(184);var x=function(e){var n=e.onChange,t=e.onBlur,o=(e.onFocus,e.value),a=e.name,r=e.inputRef,s=e.placeholder,l=e.error,c=e.id,u=e.dateFormat,x=e.maxDate,p=e.minDate,b=e.disabled,j=e.dark,v=m()({"ne-datepicker-container":!0,dark:j});return(0,h.jsxs)("div",{className:v,children:[(0,h.jsx)(d(),{selected:o,onChange:n,onBlur:t,onFocus:function(e){return e.target.blur()},placeholderText:s,name:a,id:c,disabled:b,ref:r,maxDate:x,minDate:p,dateFormat:u,className:"form-control",autoComplete:"no-auto-complete_"+(0,f.Z)()}),(0,h.jsx)("i",{className:"date-icon"}),l&&l.message?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(i.Z.Control.Feedback,{type:"invalid",children:l.message})}):null]})},p=t(2976),b=t(1413),j={option:function(e,n){return(0,b.Z)((0,b.Z)({},e),{},{backgroundColor:n.isSelected?"#0a9246":"#FFFFFF",":hover":{backgroundColor:"#000",color:"#ffffff"}})},menu:function(e,n){return(0,b.Z)({},e)},menuList:function(e,n){return(0,b.Z)((0,b.Z)({},e),{},{color:"#636363",fontSize:"18px"})},control:function(e,n){return(0,b.Z)((0,b.Z)({},e),{},{borderColor:"#cdc6c1",boxShadow:"none",":hover":{borderColor:"#cdc6c1"}})},indicatorSeparator:function(e,n){return(0,b.Z)({},e)},valueContainer:function(e,n){return(0,b.Z)({},e)},dropdownIndicator:function(e,n){return(0,b.Z)({},e)},placeholder:function(e,n){return(0,b.Z)((0,b.Z)({},e),{},{color:"#c2bfbf",fontSize:"18px"})},singleValue:function(e,n){return(0,b.Z)((0,b.Z)({},e),{},{color:"#636363",fontSize:"18px"})}},v={option:function(e,n){return(0,b.Z)((0,b.Z)({},e),{},{backgroundColor:n.isSelected?"#556ee6":"#FFFFFF",":hover":{backgroundColor:"#90a0ee",color:"#ffffff"}})},input:function(e,n){return(0,b.Z)((0,b.Z)({},e),{},{color:"#BFC8E2"})},menu:function(e,n){return(0,b.Z)((0,b.Z)({},e),{},{zIndex:999999})},menuList:function(e,n){return(0,b.Z)((0,b.Z)({},e),{},{color:"#636363",fontSize:"14.4px"})},control:function(e,n){return(0,b.Z)((0,b.Z)({},e),{},{height:"calc(1.9em + .94rem + 2px)",borderRadius:".5rem",backgroundColor:"#464D61",borderColor:"1.5px solid #58627F",boxShadow:"none",":hover":{borderColor:"#58627F"}})},indicatorSeparator:function(e,n){return(0,b.Z)((0,b.Z)({},e),{},{backgroundColor:"#353535"})},indicatorsContainer:function(e,n){return(0,b.Z)((0,b.Z)({},e),{},{color:"#676767"})},valueContainer:function(e,n){return(0,b.Z)({},e)},dropdownIndicator:function(e,n){return(0,b.Z)((0,b.Z)({},e),{},{color:"#676767"})},placeholder:function(e,n){return(0,b.Z)((0,b.Z)({},e),{},{color:"#BFC8E2",fontSize:"14.4px"})},singleValue:function(e,n){return(0,b.Z)((0,b.Z)({},e),{},{color:"#BFC8E2",fontSize:"14.4px"})}},g=function(e,n,t){var o=n.label,a=(n.value,e.filter((function(e){return e.label.toLowerCase()===o.toLowerCase()&&e.label.toLowerCase().startsWith(t.toLowerCase())})));return o.toLowerCase().startsWith(t.toLowerCase())||a.length>0};var Z=function(e){var n=e.onChange,t=e.onBlur,o=e.value,a=e.name,r=e.inputRef,s=e.placeholder,l=e.error,c=e.id,d=e.className,u=e.options,m=(e.isSearchable,e.isClearable),f=e.isDisabled,x=e.dark;return(0,h.jsxs)("div",{children:[(0,h.jsx)(p.ZP,{options:u,value:o,onChange:n,isClearable:void 0==m||m,isSearchable:!1,styles:x?v:j,onBlur:t,name:a,className:d,id:c,ref:r,isDisabled:f,placeholder:s,components:{IndicatorSeparator:function(){return null}},filterOption:function(e,n){return g(u,e,n)}}),l&&l.value&&l.value.message?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(i.Z.Control.Feedback,{type:"invalid",children:l.value.message})}):l&&l&&l.message?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(i.Z.Control.Feedback,{type:"invalid",children:l.message})}):null]})},S=t(5486),y=t(8399),C=t(3540),w=t(2344),N=t(2426),F=t.n(N);function k(e){e.onSuccess;var n,t=e.onClose,r=e.shouldShow,s=e.formValues,l=(0,a.useState)(""),i=(0,o.Z)(l,2),c=i[0],d=i[1];return(0,a.useEffect)((function(){if(s){var e=F()(s.date).format("D"),n=F()(s.date).format("MMMM"),t=s.waqt.value,o=w,a="<p>";a=a+"Start: <span>"+F()(o[n][e][t].Start,"HH:mm").format("h:mm a")+"</span><br/>End: <span>"+(o[n][e][t].End?F()(o[n][e][t].End,"HH:mm").format("h:mm a"):"Until Next Waqt")+"</span>",d(a+="</p>")}}),[s]),(0,h.jsx)(a.Fragment,{children:(0,h.jsxs)(y.Z,{show:r,backdrop:"static",keyboard:!1,centered:!0,contentClassName:"custom-modal",children:[(0,h.jsx)(y.Z.Header,{children:F()(s.date).format("D MMMM ")+(null===s||void 0===s||null===(n=s.waqt)||void 0===n?void 0:n.value)+" Timings"}),(0,h.jsx)(y.Z.Body,{children:(0,h.jsx)("div",{className:"modal-body content",children:(0,C.ZP)(c)})}),(0,h.jsx)(y.Z.Footer,{children:(0,h.jsx)("div",{className:"btn-wrap mb-3",children:(0,h.jsx)("button",{type:"button",className:"rkmd-btn btn-lg btn-red ripple-effect w-100 mt-3",onClick:t,children:"Close"})})})]})})}var M=t(37),D=l.Ry().shape({location:l.Ry().nullable()});function I(e){var n=e.onClose,t=e.shouldShow,o=(0,r.cI)({resolver:(0,s.X)(D),defaultValues:{location:void 0}}),l=o.control,i=(o.formState.errors,o.formState,o.setValue),c=o.handleSubmit;return(0,a.useEffect)((function(){var e=localStorage.getItem("location");e&&i("location",JSON.parse(e))}),[]),(0,h.jsx)(a.Fragment,{children:(0,h.jsxs)(y.Z,{show:t,backdrop:"static",keyboard:!1,centered:!0,contentClassName:"custom-modal",children:[(0,h.jsx)(y.Z.Header,{children:"Set Location"}),(0,h.jsx)(y.Z.Body,{children:(0,h.jsx)("div",{className:"modal-body content",children:(0,h.jsx)(r.Qr,{control:l,name:"location",render:function(e){var n=e.field,t=n.onChange,o=n.onBlur,a=n.value,r=n.name,s=n.ref,l=e.fieldState;l.invalid,l.isTouched,l.isDirty,l.error,e.formState;return(0,h.jsx)(Z,{name:r,onChange:t,onBlur:o,inputRef:s,options:S.Lm,value:a,placeholder:"Select location"})}})})}),(0,h.jsx)(y.Z.Footer,{children:(0,h.jsx)("div",{className:"btn-wrap mb-3",children:(0,h.jsx)("button",{type:"button",className:"rkmd-btn btn-lg btn-red ripple-effect w-100 mt-3",onClick:c((function(e){localStorage.setItem("location",JSON.stringify(e.location)),n()})),children:"Submit"})})})]})})}var B=l.Ry().shape({date:l.Z_(),waqt:l.Ry().nullable()});function E(){var e=(0,r.cI)({resolver:(0,s.X)(B),defaultValues:{date:new Date,waqt:""}}),n=e.control,t=(e.formState.errors,e.formState,e.setValue),l=e.handleSubmit,i=(0,a.useState)(!1),c=(0,o.Z)(i,2),d=c[0],u=c[1],m=(0,a.useState)(!1),f=(0,o.Z)(m,2),p=f[0],b=f[1],j=(0,a.useState)(),v=(0,o.Z)(j,2),g=v[0],y=v[1];return(0,a.useEffect)((function(){var e=(0,M.Z)();t("waqt",{value:e,label:e})}),[]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("h2",{className:"page-title",children:["Prayer Timings",(0,h.jsx)("a",{style:{right:"15px",position:"absolute"},onClick:function(){b(!0)},children:(0,h.jsx)("i",{className:"fa-solid fa-location-dot"})})]}),(0,h.jsxs)("form",{onSubmit:l((function(e){console.log({values:e}),u(!0),y(e)})),noValidate:!0,children:[(0,h.jsxs)("div",{className:"form-box-new",children:[(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{className:"form-label",children:"Date"}),(0,h.jsx)(r.Qr,{control:n,name:"date",render:function(e){var n=e.field,t=n.onChange,o=n.onBlur,a=n.value,r=(n.name,n.ref),s=e.fieldState;s.invalid,s.isTouched,s.isDirty,s.error,e.formState;return(0,h.jsx)(x,{onChange:function(e){t(e)},onBlur:o,value:a,dateFormat:"dd-MMMM-yyyy",inputRef:r,placeholder:"Select Date"})}})]}),(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{className:"form-label",children:"Namaj Waqt"}),(0,h.jsx)(r.Qr,{control:n,name:"waqt",render:function(e){var n=e.field,t=n.onChange,o=n.onBlur,a=n.value,r=n.name,s=n.ref,l=e.fieldState;l.invalid,l.isTouched,l.isDirty,l.error,e.formState;return(0,h.jsx)(Z,{name:r,onChange:t,onBlur:o,inputRef:s,options:S.Q0,value:a,placeholder:"Select Waqt"})}})]}),(0,h.jsx)("div",{className:"btn-wrap",children:(0,h.jsx)("button",{type:"submit",className:"rkmd-btn btn-lg btn-orange ripple-effect w-100 mt-3",children:"View Timing"})})]}),d&&g&&(0,h.jsx)(k,{shouldShow:d,formValues:g,onClose:function(){u(!1)}}),p&&(0,h.jsx)(I,{shouldShow:p,onClose:function(){b(!1)}})]})]})}var z=t(1311);function H(e){var n=e.shouldShow,t=e.closeAzanModal,r=e.waqt,s=(0,a.useRef)(null),l=(0,a.useState)(!1),i=(0,o.Z)(l,2),c=i[0],d=i[1];return(0,a.useEffect)((function(){setTimeout((function(){d(!0)}),1e4)}),[]),(0,h.jsx)(a.Fragment,{children:(0,h.jsxs)(y.Z,{show:n,backdrop:"static",keyboard:!1,centered:!0,contentClassName:"custom-modal",children:[(0,h.jsxs)(y.Z.Header,{children:[r," Azan",c&&(0,h.jsx)("button",{type:"button",className:"",onClick:function(){return t()},style:{background:"none",border:"none",color:"#fff"},children:(0,h.jsx)("i",{className:"fa fa-times"})})]}),(0,h.jsx)(y.Z.Body,{children:(0,h.jsx)("div",{className:"modal-body content",children:(0,h.jsxs)("video",{width:"100%",id:"azanVid",preload:"auto",autoPlay:!0,onEnded:function(){return t()},ref:s,children:["Fajr"==r?(0,h.jsx)("source",{src:"images/FajrAzan.mp4",type:"video/mp4"}):(0,h.jsx)("source",{src:"images/Azan.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})})})]})})}function q(){var e=(0,a.useState)(),n=(0,o.Z)(e,2),t=n[0],r=n[1],s=(0,a.useState)(),l=(0,o.Z)(s,2),i=l[0],c=l[1],d=(0,a.useState)(),u=(0,o.Z)(d,2),m=u[0],f=u[1],x=(0,a.useState)(),p=(0,o.Z)(x,2),b=p[0],j=p[1],v=(0,a.useState)(!1),g=(0,o.Z)(v,2),Z=g[0],S=g[1],y=function(e){return("0"+e).slice(-2)},C=function(){var e=F()(),n=e.format("D"),t=e.format("MMMM"),o=w,a=(0,M.Z)(),s=Object.keys(o[t][n]),l=s.indexOf(a);l==s.length-1?(a=s[0],e.format("HH:mm")>"22:00"&&(n=F()().add(1,"days").format("D"),t=F()().add(1,"days").format("MMMM"))):a=s[l+1];c(a),console.log(t,n);var i=F()(o[t][n][a].Start,"HH:mm").format("h:mm a");r(i),N(i)},N=function(e){var n=(F()(e,"h:mm a").diff(F()(),"seconds")+86400)%86400;console.log({sec:n});var t=setInterval((function(){j(t),f(function(e){var n=Math.floor(e/60);e%=60;var t=Math.floor(n/60);return n%=60,"".concat(y(t),":").concat(y(n),":").concat(y(e))}(n)),--n<0&&(clearInterval(t),S(!0))}),1e3)};return(0,a.useEffect)((function(){return C(),function(){clearInterval(b)}}),[]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h3",{className:"page-title",children:"Upcoming Prayer"}),(0,h.jsxs)("div",{className:"content text-white",children:["Waqt: ",(0,h.jsx)("span",{children:i})]}),(0,h.jsxs)("div",{className:"content text-white",children:["Time: ",(0,h.jsx)("span",{children:t})]}),(0,h.jsxs)("div",{className:"content text-white",children:["Time Left: ",(0,h.jsx)("span",{children:m})]}),Z&&i&&"Tahajjud"!=i&&(0,h.jsx)(H,{shouldShow:Z,closeAzanModal:function(){S(!1),C()},waqt:i})]})}function L(e){var n=e.type;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h4",{className:"msg-text",children:n||"Qur'an"}),(0,h.jsx)("div",{style:{height:220,textAlign:"center"},children:(0,h.jsx)("iframe",{src:"https://alim.org/"+((null===n||void 0===n?void 0:n.toLowerCase())||"insight")+"-of-the-day/widget/",height:"100%",width:"100%"})})]})}function R(e){var n=e.shouldShow,t=e.setShowInsightsModal;return(0,a.useEffect)((function(){var e=document.getElementById("azan");e&&e.play()}),[]),(0,h.jsx)(a.Fragment,{children:(0,h.jsxs)(y.Z,{show:n,backdrop:"static",keyboard:!1,centered:!0,contentClassName:"custom-modal",children:[(0,h.jsxs)(y.Z.Header,{children:["Insights of the Day",(0,h.jsx)("button",{type:"button",className:"",onClick:function(){return t(!1)},style:{background:"none",border:"none",color:"#fff"},children:(0,h.jsx)("i",{className:"fa fa-times"})})]}),(0,h.jsx)(y.Z.Body,{children:(0,h.jsxs)("div",{className:"modal-body content",children:[(0,h.jsx)(L,{}),(0,h.jsx)(L,{type:"Hadith"})]})})]})})}function T(){var e=(0,a.useState)(!1),n=(0,o.Z)(e,2),t=n[0],r=n[1];return(0,a.useEffect)((function(){var e=localStorage.getItem("day"),n=(new Date).getDate()+"";e?n!=e&&(r(!0),localStorage.setItem("day",n)):(r(!0),localStorage.setItem("day",n))}),[]),(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)(z.Z,{}),(0,h.jsxs)("section",{className:"main-container",children:[(0,h.jsx)(E,{}),(0,h.jsx)(q,{}),(0,h.jsx)("div",{className:"btn-wrap",children:(0,h.jsx)("button",{className:"rkmd-btn btn-lg btn-orange ripple-effect w-100 mt-3",onClick:function(){return r(!0)},children:"Insights of the Day"})})]}),t&&(0,h.jsx)(R,{shouldShow:t,setShowInsightsModal:r})]})}}}]);
//# sourceMappingURL=Home.6d3f3e09.chunk.js.map